<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Approximate personalized pageranks — appr • aPPR</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Approximate personalized pageranks — appr" />

<meta property="og:description" content="Approximate personalized pageranks" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aPPR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/custom-graphs.html">Using aPPR with Custom Graphs</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/RoheLab/aPPR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Approximate personalized pageranks</h1>
    <small class="dont-index">Source: <a href='https://github.com/RoheLab/aPPR/blob/master/R/aPPR.R'><code>R/aPPR.R</code></a>, <a href='https://github.com/RoheLab/aPPR/blob/master/R/graph-igraph.R'><code>R/graph-igraph.R</code></a>, <a href='https://github.com/RoheLab/aPPR/blob/master/R/graph-rtweet.R'><code>R/graph-rtweet.R</code></a></small>
    <div class="hidden name"><code>appr.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Approximate personalized pageranks</p>
    
    </div>

    <pre class="usage"><span class='fu'>appr</span>(<span class='no'>graph</span>, <span class='no'>seeds</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='kw'>epsilon</span> <span class='kw'>=</span> <span class='fl'>1e-06</span>, <span class='kw'>tau</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for igraph</span>
<span class='fu'>appr</span>(<span class='no'>graph</span>, <span class='no'>seeds</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='kw'>epsilon</span> <span class='kw'>=</span> <span class='fl'>1e-06</span>, <span class='kw'>tau</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for rtweet_graph</span>
<span class='fu'>appr</span>(<span class='no'>graph</span>, <span class='no'>seeds</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.15</span>, <span class='kw'>epsilon</span> <span class='kw'>=</span> <span class='fl'>1e-06</span>, <span class='kw'>tau</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>graph</th>
      <td><p>An [abstract_graph()] object, such as those created by
[rtweet_graph()] and [twittercache_graph()], and [igraph::igraph()]
object. This argument is required.</p></td>
    </tr>
    <tr>
      <th>seeds</th>
      <td><p>A character vector of seeds for the personalized pagerank.
The personalized pagerank will return to each of these seeds with
probability `alpha` at each node transition. At the moment,
all seeds are given equal weighting. This argument is required.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>Teleporting factor. The teleportation factor is the
probability of returning to a seed node at each node transition.
Defaults to `0.15`. This is the inverse of the "dampening factor"
in the original PageRank paper, so `alpha = 0.15` corresponds
to a dampening factor of `0.85`.</p></td>
    </tr>
    <tr>
      <th>epsilon</th>
      <td><p>Desired accuracy of approximation. Small `epsilon`
can result in long runtimes. Defaults to `1e-6`.</p></td>
    </tr>
    <tr>
      <th>tau</th>
      <td><p>Regularization term. Additionally inflates the in degree
of each observation by this term by performing the degree
adjustment described in Algorithm 3 and Algorithm 4, which
are described in `vignette("Mathematical details")`. Defaults to
`NULL`, in which case `tau` is set to the average in degree of
the observed nodes. In general, setting it's reasonable to
set `tau` to the average degree of the graph.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Ignored. Passing arguments to `...` results in a warning.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A [tibble::tibble()] with the following columns:</p>
<p>- `name`: Name of a node (character).
  - `p`: Estimated personalized pagerank of a node.
  - `r`: Estimated error of pagerank estimate for a node.
  - `in_degree`: Number of incoming edges to a node.
  - `out_degree`: Number of outcoming edges from a node.
  - `degree_adjusted`: The personalized pagerank divided by the
    node in-degree.
  - `regularized`: The personalized pagerank divide by the node
    in-degree plus `tau`.</p>
<p>When `graph` is an</p>
<p>- `rtweet_graph` get `user_id` not screen names</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Note that, due to the inspection paradox, the average observed
degree of the network will be higher than the average degree of
the entire network. This means that the default value for `tau`
many be a bit high. In practice, we do not observe that the
small changes in the value of `tau` substantively changes results,
you really just need to regularize enough so that low in degree
nodes don't look overly important after degree correction.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>aPPR</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>igraph</span>)</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: 'igraph'</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from 'package:testthat':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    compare</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from 'package:stats':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    decompose, spectrum</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from 'package:base':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    union</span></div><div class='input'>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Random'>set.seed</a></span>(<span class='fl'>27</span>)

<span class='no'>graph</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rtweet_graph.html'>rtweet_graph</a></span>()</div><span class='co'># NOT RUN {</span>
<span class='fu'>appr</span>(<span class='no'>graph</span>, <span class='st'>"alexpghayes"</span>)
<span class='co'># }</span><div class='input'>
<span class='no'>graph2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/igraph/topics/sample_pa'>sample_pa</a></span>(<span class='fl'>100</span>)

<span class='fu'>appr</span>(<span class='no'>graph2</span>, <span class='kw'>seeds</span> <span class='kw'>=</span> <span class='st'>"5"</span>)</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 3 x 7</span><span>
#&gt;   name            r     p in_degree out_degree degree_adjusted regularized
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>       </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>           </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>       </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> 5     0.000</span><span style='text-decoration: underline;'>000</span><span>833 0.150         2          1         0.075</span><span style='text-decoration: underline;'>0</span><span>      0.010</span><span style='text-decoration: underline;'>5</span><span> 
#&gt; </span><span style='color: #555555;'>2</span><span> 4     0.000</span><span style='text-decoration: underline;'>000</span><span>579 0.127         4          1         0.031</span><span style='text-decoration: underline;'>9</span><span>      0.007</span><span style='text-decoration: underline;'>81</span><span>
#&gt; </span><span style='color: #555555;'>3</span><span> 1     0           0.108        31          0         0.003</span><span style='text-decoration: underline;'>50</span><span>     0.002</span><span style='text-decoration: underline;'>50</span><span></div><div class='input'>

<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>igraph</span>)

<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Random'>set.seed</a></span>(<span class='fl'>27</span>)

<span class='no'>graph</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/igraph/topics/sample_pa'>sample_pa</a></span>(<span class='fl'>100</span>)

<span class='fu'>appr</span>(<span class='no'>graph</span>, <span class='kw'>seeds</span> <span class='kw'>=</span> <span class='st'>"5"</span>)</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 3 x 7</span><span>
#&gt;   name            r     p in_degree out_degree degree_adjusted regularized
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>       </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>      </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>           </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>       </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> 5     0.000</span><span style='text-decoration: underline;'>000</span><span>833 0.150         2          1         0.075</span><span style='text-decoration: underline;'>0</span><span>      0.010</span><span style='text-decoration: underline;'>5</span><span> 
#&gt; </span><span style='color: #555555;'>2</span><span> 4     0.000</span><span style='text-decoration: underline;'>000</span><span>579 0.127         4          1         0.031</span><span style='text-decoration: underline;'>9</span><span>      0.007</span><span style='text-decoration: underline;'>81</span><span>
#&gt; </span><span style='color: #555555;'>3</span><span> 1     0           0.108        31          0         0.003</span><span style='text-decoration: underline;'>50</span><span>     0.002</span><span style='text-decoration: underline;'>50</span><span></div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Alex Hayes, Fan Chen, Karl Rohe.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

